<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.pineapple.funding.user.UserMapper">
	<!-- 회원공통정보 입력/수정/조회/삭제 -->
	<insert id="insertUser">
		INSERT INTO 
			user(userId, nickname, name, pw, levelCode)
			VALUES (#{userId}, #{nickname}, #{name}, #{pw}, #{levelCode});
	</insert>
	
	<select id="selectUser" parameterType="String" resultType="com.pineapple.funding.user.User">
		SELECT userId, nickname, name, pw, levelCode, uDelTime
		FROM user 
		WHERE userId='#{userId}'
	</select>
	
	<update id="updateUser" parameterType="User">
		UPDATE user
		SET
			userId='#{User.userId}',
			nickname='#{User.nickname}',
			name='#{User.name}',
			pw='#{User.pw}',
			levelCode='#{User.levelCode}',
			uDelTime=NOW()
		WHERE userId='#{userId}'
	</update>
	
	<select id="selectAllUser">
		SELECT * 
		FROM user
	</select>
	
	<delete id="deleteUser" parameterType="String">
		DELETE
		FROM user 
		WHERE userId='#{userId}'
	</delete>
	
	<!-- 회원상세정보 입력/수정/조회/삭제 -->
	<insert id="insertUserDetail">
		INSERT INTO userdetail
				(userDetailId, phoneFront3, phoneRest8, postalCode, address, nameCheck)
		VALUES  ('#{userId}', '#{phoneFront3}', '#{phoneRest8}', '#{postalCode}', '#{address}', #{nameCheck})
	</insert>
	
	<update id="updateUserDetail" parameterType="String">
		UPDATE userdetail
 		SET
 			userDetailId='#{userId}',
  			phoneFront3='#{phoneFront3}',
  			phoneRest8='#{phoneRest8}',
  			postalCode='#{postalCode}',
  			address='#{address}',
  			nameCheck=#{nameCheck}
 		WHERE userDetailId='#{userId}'
	</update>
	
	<select id="selectUserDetail" parameterType="String" resultType="com.pineapple.funding.user.UserDetail">
		SELECT userDetailId, phoneFront3, phoneRest8, postalCode, address, nameCheck
		FROM userdetail 
		WHERE userDetailId='#{userId}'
	</select>
	
	<!-- 계좌정보 입력/수정/조회/삭제 -->
	
	
</mapper>